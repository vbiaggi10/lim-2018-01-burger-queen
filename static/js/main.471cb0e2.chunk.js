(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e){e.exports=[{breakfast:[{id:1,name:"Caf\xe9 americano",price:5},{id:2,name:"Caf\xe9 con leche",price:7},{id:3,name:"Sandwich de jam\xf3n y queso",price:5},{id:4,name:"Jugo natural",price:5}],lunchdinner:{hamburguesas:[{id:5,name:"Hamburguesa simple",price:10},{id:6,name:"Hamburguesa doble",price:15}],"acompa\xf1amientos":[{id:7,name:"Papas fritas",price:5},{id:8,name:"Aros de cebolla",price:5}],bebidas:[{id:9,name:"Agua 500ml",price:5},{id:10,name:"Agua 750ml",price:8},{id:11,name:"Gaseosa 500ml",price:8},{id:12,name:"Gaseosa 750ml",price:10}]}}]},27:function(e,t,a){e.exports=a(77)},32:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a(79),l=a(81),o=a(80),s=a(4),u=a(5),m=a(7),d=a(6),h=a(8),p=(a(32),a(78)),b=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.items;return r.a.createElement("div",{className:"header"},r.a.createElement("nav",{className:"lime lighten-1"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(p.a,{to:"/",className:"brand-logo"},r.a.createElement("span",{role:"img","aria-label":"Hamburger"},"\ud83c\udf54")," BURGER QUEEN ",r.a.createElement("span",{role:"img","aria-label":"Queen"},"\ud83d\udc51")),r.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},e&&e.map(function(e,t){return r.a.createElement("li",{className:"nav-item",key:t},r.a.createElement(p.a,{to:e.url,name:e.title},e.title))})))))}}]),t}(n.Component),f=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.body;return r.a.createElement("div",null,e)}}]),t}(n.Component),v=[{title:"Inicio",url:"/lim-2018-01-burger-queen/"},{title:"Pedidos",url:"/lim-2018-01-burger-queen/pedidos/"},{title:"Historial",url:"/lim-2018-01-burger-queen/historial/"}],g=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:"App"},r.a.createElement(b,{props:this.props,items:v}),r.a.createElement(f,{body:e}))}}]),t}(n.Component),E=a(2),k=a(15),O=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement(E.Collapsible,{popout:!0,accordion:!0},r.a.createElement(E.CollapsibleItem,{header:"Sandwiches"},this.handleShowItems("Sandwiches")),r.a.createElement(E.CollapsibleItem,{header:"Bebidas"},this.handleShowItems("Bebidas"))))}},{key:"handleShowItems",value:function(e){var t=this;return k.map(function(a){return a.breakfast.map(function(a,n){if("Sandwiches"===e){if("Sand"===a.name.substr(0,4))return r.a.createElement(E.Button,{onClick:t.handleOrder.bind(t),className:"btn-item",key:n,waves:"light",name:"".concat(a.name,"/").concat(a.price)},a.name,r.a.createElement("br",null),"S/ ",a.price)}else if("Caf\xe9"===a.name.substr(0,4)||"Jugo"===a.name.substr(0,4))return r.a.createElement(E.Button,{onClick:t.handleOrder.bind(t),className:"btn-item",key:n,waves:"light",name:"".concat(a.name,"/").concat(a.price)},a.name,r.a.createElement("br",null),"S/ ",a.price)})})}},{key:"handleOrder",value:function(e){e.preventDefault();var t=e.target.name.split("/");this.props.takingOrder(t[0],t[1])}}]),t}(n.Component),y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={tempHamburgerName:"",tempHamburgerPrice:""},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement(E.Collapsible,{popout:!0,accordion:!0},r.a.createElement(E.CollapsibleItem,{header:"Hamburguesas"},r.a.createElement("div",null,this.handleShowHamburguer()),r.a.createElement("div",{className:"hamburger-type"},r.a.createElement(E.Input,{onChange:this.handleInputChange.bind(this),checked:this.state.withSome,type:"checkbox",value:"red",name:"Queso/1",price:"1",label:"Queso + S/.1"}),r.a.createElement(E.Input,{onChange:this.handleInputChange.bind(this),checked:this.state.withSome,type:"checkbox",value:"red",name:"Huevo/1",price:"1",label:"Huevo + S/.1"}))),r.a.createElement(E.CollapsibleItem,{header:"Acompa\xf1amientos"},this.handleShowAccompaniments()),r.a.createElement(E.CollapsibleItem,{header:"Bebidas"},this.handleShowDrinks())))}},{key:"handleShowHamburguer",value:function(){var e=this;return k.map(function(t){return t.lunchdinner.hamburguesas.map(function(t,a){return r.a.createElement("div",{className:"col s6",key:"h".concat(a)},r.a.createElement(E.Input,{onChange:e.handleTypeHamburger.bind(e),s:12,type:"select",label:"Seleccione el tipo de ".concat(t.name," S/ ").concat(t.price),defaultValue:"disabled",name:"".concat(t.name,"/").concat(t.price)},r.a.createElement("option",{value:"disabled",disabled:!0},"Tipo"),r.a.createElement("option",{value:"res"},"Res"),r.a.createElement("option",{value:"pollo"},"Pollo"),r.a.createElement("option",{value:"vegetariana"},"Vegetariana")))})})}},{key:"handleShowDrinks",value:function(){var e=this;return k.map(function(t){return t.lunchdinner.bebidas.map(function(t,a){return r.a.createElement(E.Button,{onClick:e.handleOrder.bind(e),className:"btn-item",key:"b".concat(a),waves:"light",name:"".concat(t.name,"/").concat(t.price)},t.name,r.a.createElement("br",null),"S/ ",t.price)})})}},{key:"handleShowAccompaniments",value:function(){var e=this;return k.map(function(t){return t.lunchdinner.acompa\u00f1amientos.map(function(t,a){return r.a.createElement(E.Button,{onClick:e.handleOrder.bind(e),className:"btn-item",key:"a".concat(a),waves:"light",name:"".concat(t.name,"/").concat(t.price)},t.name,r.a.createElement("br",null),"S/ ",t.price)})})}},{key:"handleHamburguer",value:function(e){e.preventDefault(),e.target.style.background="#7e7e7e";var t=e.target.name.split("/");this.setState({tempHamburgerName:t[0],tempHamburgerPrice:t[1]})}},{key:"handleTypeHamburger",value:function(e){e.preventDefault();var t=e.target.name.split("/"),a=t[0]+" "+e.target.value;localStorage.setItem("tempHamburgerName",a),this.props.takingOrder(a,t[1])}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target,a=e.target.name.split("/"),n="checkbox"===t.type?t.checked:t.value,r=localStorage.getItem("tempHamburgerName")+" + "+a[0];n&&this.props.takingOrder(r,a[1])}},{key:"handleOrder",value:function(e){e.preventDefault();var t=e.target.name.split("/");this.props.takingOrder(t[0],t[1])}}]),t}(n.Component),w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={orders:[],totalOrders:[],newOrders:[],activeTab:"",nameActiveTap:""},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"container-nav"},r.a.createElement("h5",null,"Pedido de ",this.props.name),r.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:this.handleCancel.bind(this)},"Cancelar",r.a.createElement(E.Icon,{small:!0,right:!0},"close"))),r.a.createElement(E.Container,{className:"col s8"},r.a.createElement("div",{onClick:this.activeTab.bind(this)},r.a.createElement(E.Tabs,{className:"tab-demo z-depth-1"},r.a.createElement(E.Tab,{title:"Breakfast",className:"col s6",active:!0}," ",r.a.createElement(O,{takingOrder:this.takingOrder.bind(this)})," "),r.a.createElement(E.Tab,{title:"Lunch / Dinner",className:"col s6"}," ",r.a.createElement(y,{takingOrder:this.takingOrder.bind(this)})," ")))),r.a.createElement(E.Container,{className:"col s4"},r.a.createElement("h5",null,"Pedido"),r.a.createElement("div",null,this.showOrder()),r.a.createElement("div",null,this.totalPrice()),r.a.createElement(E.Button,{onClick:this.handleChangeStatus.bind(this),waves:"light"},"Enviar a cocina")))}},{key:"activeTab",value:function(e){"A"===e.target.tagName&&(console.log(e.target.href),console.log(e.target.className))}},{key:"showOrder",value:function(){var e=this;if(this.state.orders!==[])return this.state.orders.map(function(t,a){return r.a.createElement("div",{key:"show".concat(a)},r.a.createElement("span",null,t.orderName," S/ ",t.orderPrice),r.a.createElement("button",{className:"btn-delete",onClick:e.deleteOrder.bind(e),name:t.orderName,id:a},"\ud83d\uddd1\ufe0f"))})}},{key:"takingOrder",value:function(e,t){var a=this.state.orders;a.push({orderName:e,orderPrice:t}),this.setState({orders:a})}},{key:"totalPrice",value:function(){var e=0;if(this.state.orders!==[])return this.state.orders.map(function(t,a){var n=parseInt(t.orderPrice);return e+=n}),r.a.createElement("p",{className:"total-price"},"Total: S/ ",e)}},{key:"deleteOrder",value:function(e){var t=e.target,a=this.state.orders,n=[];delete a[t.id],a.map(function(e){return n.push({orderName:e.orderName,orderPrice:e.orderPrice}),e}),this.setState({orders:n})}},{key:"handleChangeStatus",value:function(){this.state.orders!==[]&&this.saveLocal(),this.props.handleChangeStatus(!1)}},{key:"handleCancel",value:function(){this.props.handleCancel(!1)}},{key:"saveLocal",value:function(){this.props.saveLocal(this.state.orders)}}]),t}(n.Component),C=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={name:"",tookName:!1,userId:"",clients:[]},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.tookName?r.a.createElement("div",null,r.a.createElement(w,{name:this.state.name,handleChangeStatus:this.handleChangeStatus.bind(this),handleCancel:this.handleCancel.bind(this),userId:this.state.userId,saveLocal:this.saveLocal.bind(this)})):r.a.createElement(E.Row,{className:"viewport"},r.a.createElement("form",{className:"col s12 form",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(E.Input,{s:12,onChange:this.handleChange.bind(this),label:"Nombre"}),r.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Enviar",r.a.createElement(E.Icon,{small:!0,right:!0},"send"))))}},{key:"handleChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.name&&this.setState({tookName:!0})}},{key:"handleCancel",value:function(e){this.setState({tookName:e})}},{key:"handleChangeStatus",value:function(e){this.setState({tookName:e})}},{key:"saveLocal",value:function(e){var t=this,a=window.firebase.firestore(),n=new Date,r=n.getHours()+":"+(n.getMinutes()<10?"0":"")+n.getMinutes(),i=n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear();a.collection("clients").add({name:this.state.name,order:e,status:!1,date:i,hour:r,timestamp:window.firebase.firestore.FieldValue.serverTimestamp()}).then(function(e){console.log("Document successfully written!"),t.setState({userId:e.id})}).catch(function(e){console.error("Error writing document: ",e)})}}]),t}(n.Component),j=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={totalPrice:0},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=0;this.props.order.forEach(function(t){var a=parseInt(t.orderPrice);return e+=a}),this.setState({totalPrice:e})}},{key:"render",value:function(){return r.a.createElement(E.Col,{m:6,s:12},r.a.createElement(E.Card,{title:"Orden de ".concat(this.props.name),actions:[this.props.status?null:r.a.createElement("a",{href:" ",onClick:this.handleChangeStatus.bind(this)},"Terminar")]},r.a.createElement("p",{className:"grey-text text-lighten-1"},this.props.id),r.a.createElement("p",null,this.props.hour," ",this.props.date),r.a.createElement(E.Table,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-field":"id"},"Order"),r.a.createElement("th",{"data-field":"name"},"Price"))),r.a.createElement("tbody",null,this.props.order?this.props.order.map(function(e,t){return r.a.createElement("tr",{key:"ordernameprice-".concat(t)},r.a.createElement("td",null,e.orderName),r.a.createElement("td",null,"S/ ",e.orderPrice))}):null)),r.a.createElement("p",null,"Total: S/ ",this.state.totalPrice)))}},{key:"handleChangeStatus",value:function(){this.props.handleChangeStatus(this.props.id,this.props.status)}}]),t}(n.Component),S=window.firebase.firestore(),N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={orders:[]},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.orders,a=new Date,n=a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear();S.collection("clients").orderBy("timestamp","desc").get().then(function(a){a.forEach(function(a){a.data().date===n&&t.push({id:a.id,date:a.data().date,hour:a.data().hour,name:a.data().name,order:a.data().order,status:a.data().status}),e.setState({orders:t})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement(E.Col,{m:6,s:12},r.a.createElement("h5",null,"En proceso"),this.state.orders.map(function(t,a){if(!t.status)return r.a.createElement(j,{key:"false-".concat(a),id:t.id,name:t.name,order:t.order,status:t.status,date:t.date,hour:t.hour,handleChangeStatus:e.handleChangeStatus.bind(e)})})),r.a.createElement(E.Col,{m:6,s:12},r.a.createElement("h5",null,"Terminado"),this.state.orders.map(function(t,a){if(t.status)return r.a.createElement(j,{key:"true-".concat(a),id:t.id,name:t.name,order:t.order,status:t.status,date:t.date,hour:t.hour,handleChangeStatus:e.handleChangeStatus.bind(e)})})))}},{key:"handleChangeStatus",value:function(e,t){var a;return a=!t,S.collection("clients").doc(e).update({status:a}).then(function(){console.log("Document successfully updated!")}).catch(function(e){console.error("Error updating document: ",e)})}}]),t}(n.Component),I=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={totalPrice:0},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=0;this.props.order.forEach(function(t){var a=parseInt(t.orderPrice);return e+=a}),this.setState({totalPrice:e})}},{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.id),r.a.createElement("td",null,r.a.createElement("p",null,this.props.hour),r.a.createElement("p",null,this.props.date)),r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.order.map(function(e,t){return r.a.createElement("p",{key:"name-".concat(t)},e.orderName)})),r.a.createElement("td",null,this.props.order.map(function(e,t){return r.a.createElement("p",{key:"price-".concat(t)},"S/ ",e.orderPrice)})),r.a.createElement("td",null,"S/ ",this.state.totalPrice))}}]),t}(n.Component),P=window.firebase.firestore(),T=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={orders:[]},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.orders;P.collection("clients").orderBy("timestamp","desc").get().then(function(a){a.forEach(function(a){t.push({id:a.id,date:a.data().date,hour:a.data().hour,name:a.data().name,order:a.data().order,status:a.data().status}),e.setState({orders:t})})})}},{key:"render",value:function(){return r.a.createElement(E.Container,null,r.a.createElement(E.Table,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-field":"id"},"Id"),r.a.createElement("th",{"data-field":"date"},"Date"),r.a.createElement("th",{"data-field":"name"},"Name"),r.a.createElement("th",{"data-field":"price"},"Order"),r.a.createElement("th",{"data-field":"price"},"Price"),r.a.createElement("th",{"data-field":"price"},"Total"))),r.a.createElement("tbody",null,this.state.orders.map(function(e,t){return r.a.createElement(I,{key:"record-".concat(t),id:e.id,name:e.name,order:e.order,status:e.status,date:e.date,hour:e.hour})}))))}}]),t}(n.Component),H=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,"404 not found"))}}]),t}(n.Component),D=function(){return r.a.createElement(g,null,r.a.createElement(l.a,null,r.a.createElement(o.a,{exact:!0,path:"/lim-2018-01-burger-queen/",component:C}),r.a.createElement(o.a,{exact:!0,path:"/lim-2018-01-burger-queen/pedidos/",component:N}),r.a.createElement(o.a,{exact:!0,path:"/lim-2018-01-burger-queen/historial/",component:T}),r.a.createElement(o.a,{component:H})))},B=(a(75),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function x(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}Object(i.render)(r.a.createElement(c.a,null,r.a.createElement(D,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/lim-2018-01-burger-queen",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/lim-2018-01-burger-queen","/service-worker.js");B?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):x(t,e)})}}()}},[[27,2,1]]]);
//# sourceMappingURL=main.471cb0e2.chunk.js.map